var answer;var s,Hangman={settings:{word:answer,hangmanCounter:1,theme:$("#theme"),letter:$(".letter")},startGame:function(){s=this.settings;this.chooseTheme();this.generateAlphabet()},generateAlphabet:function(){var e=[];for(i=65;i<91;i++){e.push(String.fromCharCode(i))}for(i=0;i<e.length;i++){$(".letters").append('<div class="letter active">'+e[i]+"</div> ");if(i===12){$(".letters").append("<br />")}}Hangman.bindUIActions()},chooseTheme:function(){$.getJSON("data/words.json",function(e){var t=[];var n=e.themes.theme.length;for(i=0;i<n;i++){t.push(e.themes.theme[i].title)}var r=Math.round(Math.random()*(n-1));var o=t[r];s.theme.text(o);Hangman.chooseWord(r)})},chooseWord:function(e){$.getJSON("data/words.json",function(t){var n=[];var r=t.themes.theme[e].words.word.length;for(i=0;i<r;i++){n.push(t.themes.theme[e].words.word[i])}var o=Math.round(Math.random()*(r-1));var u=t.themes.theme[e].words.word[o];s.word=u;Hangman.transformWord(s.word)})},transformWord:function(e){var t="";var n=" ";for(i=0;i<e.length;i++){if(e[i]!=n){t+="_"}else{t+=" "}}$("#answer").text(t)},bindUIActions:function(){$(".letter").on("click",function(){letter=$(this).text();Hangman.fadeLetter($(this));Hangman.checkLetterInWord(letter)})},fadeLetter:function(e){e.css("opacity",.5);e.removeClass("active");e.off("click")},checkLetterInWord:function(e){if(s.word.indexOf(e)!==-1||s.word.indexOf(e.toLowerCase())!==-1){var t=$("#answer").text();for(i=0;i<t.length;i++){if(e==s.word[i]||e.toLowerCase()==s.word[i]){var n=t.charAt(i);t=t.substring(0,i,e)+e+t.substring(i+1)}$("#answer").text(t);if($("#answer").text().indexOf("_")==-1){$(".active").off("click").removeClass("active");Hangman.winOrLose(true);break}}}else{$(".man"+s.hangmanCounter).css("display","block");s.hangmanCounter++;if(s.hangmanCounter==12){$(".active").off("click").removeClass("active");$("#answer").text(s.word);Hangman.winOrLose(false)}}},winOrLose:function(e){$(".message").fadeIn();if(e){$(".whatMessage").text("Congratulations! You won! :)")}else{$(".whatMessage").text("Too bad! You lost! :(")}$(".play_again").on("click",function(){Hangman.resetGame();Hangman.startGame()})},resetGame:function(){$(".message").fadeOut();s.hangmanCounter=1;for(i=1;i<12;i++){$(".man"+i).fadeOut()}$(".letters").empty()}};(function(){Hangman.startGame()})()